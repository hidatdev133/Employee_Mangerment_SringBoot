<!doctype html>

<html lang="en"> 

 <head> 

  <meta charset="UTF-8"> 

  <title>Register</title> 
  <link rel="stylesheet" href="" th:href="@{/css/style_login.css}">
 </head> 

 <body> <!-- partial:index.partial.html --> 

  <section> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 

   <div class="signin"> 

    <div class="content"> 

     <h2>Sign Up</h2> 

     <form th:action="@{/member/checkregister}" th:object="${tv}" method="post"> 
        <div class="inputBox"> 
          <input type="text" name="matv" maxlength="10" id="matv" oninput="validateMatv(this)" th:field="*{MaTV}" required> 
          <i>MaTV</i>
          <div id="matvError" style="color: red; display: none;"></div>
        </div> 

        <div class="inputBox"> 
         <input type="text" name="hoten" th:field="*{ho_ten}" required> <i>HoTen</i> 
        </div>  

        <div class="inputBox"> 
         <input type="text" name="khoa" th:field="*{Khoa}" required> <i>Khoa</i> 
        </div> 

        <div class="inputBox"> 
         <input type="text" name="nganh" th:field="*{Nganh}" required> <i>Nganh</i> 
        </div> 

        <div class="inputBox"> 
         <input type="text" name="sdt" maxlength="10" th:field="*{SDT}" oninput="validatePhoneNumber(this)" required> 
         <i>SĐT</i> 
         <div id="phoneNumberError" style="color: red; display: none;"></div>
        </div>    

        <div class="inputBox"> 
         <input type="password" name="password" th:field="*{pass_word}" required> <i>Password</i> 
        </div> 

        <div class="inputBox"> 
          <input type="email" name="email" id="email" oninput="validateGmail(this)" th:field="*{Email}" required>
          <i>Email</i> 
          <div id="emailError" style="color: red; display: none;">Vui lòng nhập đúng định dạng email</div>
          </div>  

        <div class="links"> <a href="/login">I always have account</a></div> 
        <p style="color: red" th:text="${ERROR}"></p>
        <div class="inputBox"> 
         <input type="submit" value="Register"> 
        </div> 
     </form> 

    </div> 

   </div> 

  </section> <!-- partial --> 

 </body>
<script>
    function validateMatv(input) {
        var matvInput = input.value;
        var matvPattern = /^[0-9]{10}$/; 
        var matvError = document.getElementById('matvError');

        if (matvInput.trim() === '') {
            matvError.style.display = 'none';
        } else if (!matvPattern.test(matvInput)|| matvInput.length < 10) {
            matvError.innerText = 'MaTV phải nhập số và có đủ 10 số';
            matvError.style.display = 'block';
        }  else {
            matvError.style.display = 'none';
        }
    }

    
    function validateGmail(input) {
        var emailInput = input.value;
        var emailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
        var emailError = document.getElementById('emailError');

        if (emailInput.trim() === '') {
            emailError.style.display = 'none';
        } else if (!emailPattern.test(emailInput)) {
            emailError.style.display = 'block';
        } else {
            emailError.style.display = 'none';
        }
    }
    
    function validatePhoneNumber(input) {
        var phoneNumberInput = input.value;
        var phoneNumberPattern = /^(0\d{9})$/; 
        var phoneNumberError = document.getElementById('phoneNumberError');

        if (phoneNumberInput.trim() === '') {
            phoneNumberError.style.display = 'none';
        } else if (phoneNumberInput.length < 10||!phoneNumberPattern.test(phoneNumberInput)) {
            phoneNumberError.innerText = 'chỉ nhập số và SDT có 10 số';
            phoneNumberError.style.display = 'block';
        } else {
            phoneNumberError.style.display = 'none';
        }
    }

</script>
</html>